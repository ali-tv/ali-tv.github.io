<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TVA | Agent Ayan Terminal</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=Bebas+Neue&display=swap');

        :root {
            --tva-orange: #ff8400;
            --tva-dark-orange: #cc6a00;
            --tva-bg: #0d0d0d;
            --tva-grid: rgba(255, 132, 0, 0.1);
            --tva-text: #ffb366;
        }

        body {
            background-color: var(--tva-bg);
            color: var(--tva-text);
            font-family: 'Courier Prime', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-image: 
                linear-gradient(var(--tva-grid) 1px, transparent 1px),
                linear-gradient(90deg, var(--tva-grid) 1px, transparent 1px);
            background-size: 25px 25px;
            overflow: hidden;
            /* Mobil scroll-u bağlamaq üçün */
            position: fixed; 
            width: 100%;
            height: 100%;
        }

        /* --- ZORLA YATAY REJİM (CSS HACK) --- */
        /* Əgər ekran dikdirsə (Portrait), bütün saytı 90 dərəcə çeviririk */
        @media screen and (orientation: portrait) {
            body {
                transform: rotate(90deg);
                transform-origin: bottom left;
                position: absolute;
                top: -100vw;
                left: 0;
                height: 100vw;
                width: 100vh;
                overflow: hidden;
            }
            
            #login-screen, .container {
                max-width: 90vh !important; /* Genişliyi hündürlüyə görə tənzimləyirik */
            }
        }

        /* Scanline Effect */
        body::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        /* --- TVA LOGIN --- */
        #login-screen {
            position: fixed;
            z-index: 100;
            text-align: center;
            padding: 40px;
            border: 4px solid var(--tva-orange);
            background: var(--tva-bg);
            box-shadow: 0 0 40px rgba(255, 132, 0, 0.3);
            width: 85%;
            max-width: 450px;
        }

        .tva-logo {
            font-family: 'Bebas Neue', cursive;
            font-size: 6rem;
            color: var(--tva-orange);
            margin: 0;
            line-height: 1;
            letter-spacing: 10px;
        }

        .miss-minutes {
            width: 140px;
            height: auto;
            margin: 10px 0;
            animation: bounce 2s infinite;
            filter: drop-shadow(0 0 15px var(--tva-orange));
        }

        input[type="date"] {
            background: transparent;
            border: 2px solid var(--tva-orange);
            color: var(--tva-orange);
            padding: 10px;
            font-family: 'Courier Prime', monospace;
            font-size: 1.2rem;
            margin: 20px 0;
            width: 100%;
            text-align: center;
            outline: none;
        }

        .btn-tva {
            background: var(--tva-orange);
            color: black;
            border: none;
            padding: 15px 30px;
            font-weight: bold;
            font-family: 'Courier Prime', monospace;
            text-transform: uppercase;
            cursor: pointer;
            width: 100%;
            font-size: 1rem;
            transition: 0.3s;
        }

        .btn-tva:hover {
            background: white;
            box-shadow: 0 0 20px white;
        }

        /* --- TERMINAL CONTAINER --- */
        .container {
            width: 90%;
            max-width: 800px;
            border: 2px solid var(--tva-orange);
            background: rgba(13, 13, 13, 0.95);
            padding: 25px;
            display: none;
            position: relative;
            box-shadow: 0 0 50px rgba(0,0,0,1);
        }

        .terminal-header {
            border-bottom: 2px solid var(--tva-orange);
            padding-bottom: 10px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            font-size: 0.8rem;
        }

        .question-box {
            font-size: 1.5rem;
            margin-bottom: 40px;
            min-height: 100px;
            border-left: 5px solid var(--tva-orange);
            padding-left: 20px;
        }

        .options-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            /* Scroll üçün ehtiyat */
            max-height: 40vh;
            overflow-y: auto;
        }

        @media (max-width: 600px) { .options-list { grid-template-columns: 1fr; } }

        .option-item {
            border: 1px solid var(--tva-orange);
            padding: 15px;
            cursor: pointer;
            transition: 0.2s;
            background: rgba(255, 132, 0, 0.05);
        }

        .option-item:hover {
            background: var(--tva-orange);
            color: black;
        }

        .progress-container {
            margin-top: 40px;
            height: 10px;
            background: #222;
            border: 1px solid var(--tva-orange);
        }

        .progress-bar {
            height: 100%;
            background: var(--tva-orange);
            width: 0%;
            transition: 0.3s;
        }

        /* --- FINAL SCREEN --- */
        .result-title {
            font-family: 'Bebas Neue', cursive;
            font-size: 5rem;
            color: white;
            margin: 0;
            text-shadow: 0 0 20px var(--tva-orange);
        }

        .data-log {
            font-size: 0.7rem;
            color: #555;
            margin-top: 50px;
            border-top: 1px dashed #333;
            padding-top: 10px;
            text-align: left;
        }

        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        
    </style>
</head>
<body>

    <div id="login-screen">
        <img src="https://static.wikia.nocookie.net/marvelcinematicuniverse/images/3/3d/Miss_Minutes_AI_Profile.png" class="miss-minutes" alt="Miss Minutes">
        <h1 class="tva-logo">TVA</h1>
        <p style="letter-spacing: 2px;">FOR ALL TIME. ALWAYS.</p>
        
        <div style="margin-top: 30px;">
            <p style="font-size: 0.7rem;">VARIANT TƏSDİQLƏNMƏSİ TƏLƏB OLUNUR</p>
            <input type="date" id="birthdate">
            <button class="btn-tva" onclick="accessTerminal()">GİRİŞ İCAZƏSİ</button>
        </div>
        <p id="access-msg" style="margin-top: 15px; font-size: 0.8rem; visibility: hidden;">MƏLUMATLAR SİNXRONİZASİYA OLUNUR...</p>
    </div>

    <div class="container" id="quiz-container">
        <div class="terminal-header">
            <span>TERMINAL_ID: AYAN_777</span>
            <span id="q-counter">TIMELINE: 1 / 30</span>
        </div>
        
        <div class="question-box" id="question">Yüklənir...</div>
        
        <div class="options-list" id="options"></div>

        <div class="progress-container">
            <div class="progress-bar" id="progress"></div>
        </div>
    </div>

    <div class="container" id="result-section" style="text-align:center;">
        <p style="color: var(--tva-orange); letter-spacing: 5px;">VARIANT ANALİZİ TAMAMLANDI</p>
        <div id="final-char" class="result-title">LOKI</div>
        <div style="font-size: 1.5rem; margin: 20px 0;" id="final-score">100% SYNC</div>
        
        <div style="border: 1px solid var(--tva-orange); padding: 20px; text-align: left; background: rgba(255,132,0,0.05);">
            <p id="final-reason" style="line-height: 1.6;"></p>
        </div>
        
        <div class="data-log">
            CHRONO_REF_DATA: <span id="hidden-date" style="color: #888;">00.00.0000</span><br>
            ENCRYPTION: TVA-SEC-ALPHA | STATUS: ARCHIVED
        </div>
        
        <button class="btn-tva" style="margin-top:30px;" onclick="location.reload()">YENİ XRONOLOGİYA BAŞLAT</button>
    </div>

<script>
    let birthDate = "";

    // Tam ekrana keçid funksiyası
    function openFullscreen() {
        const elem = document.documentElement;
        if (elem.requestFullscreen) {
            elem.requestFullscreen().catch(err => {
                console.log("Tam ekran bloklandı: " + err.message);
            });
        } else if (elem.webkitRequestFullscreen) { /* Safari */
            elem.webkitRequestFullscreen();
        } else if (elem.msRequestFullscreen) { /* IE11 */
            elem.msRequestFullscreen();
        }
    }

    function accessTerminal() {
        const dateInput = document.getElementById('birthdate').value;
        if(!dateInput) { alert("Doğum tarixi daxil edilmədidir!"); return; }
        
        // 1. TAM EKRANI AKTİVLƏŞDİR (İstifadəçi kliklədiyi üçün brauzer icazə verəcək)
        openFullscreen();

        birthDate = dateInput;
        document.getElementById('access-msg').style.visibility = 'visible';
        
        setTimeout(() => {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'block';
            renderQuestion();
        }, 2000);
    }

    const questions = [
        { q: "Loki-nin ən çox nifrət etdiyi, amma həm də sığındığı qurum?", o: ["S.H.I.E.L.D.", "TVA", "Hydra", "Avengers"], a: 1 },
        { q: "Tony Stark-ın qəlbindəki 'reaktor' hansı metaldan idi?", o: ["Paladium", "Vibranium", "Polad", "Uru"], a: 0 },
        { q: "Thor-un 'New Asgard' şəhəri hansı ölkədə yerləşir?", o: ["İsveç", "Norveç", "İngiltərə", "Şotlandiya"], a: 1 },
        { q: "Infinity War-da Thanos-un neçə övladı (Black Order) var idi?", o: ["2", "4", "5", "3"], a: 1 },
        { q: "Spider-Man: No Way Home-da neçə 'Peter Parker' bir araya gəldi?", o: ["2", "3", "4", "1"], a: 1 },
        { q: "Wanda Maximoff-un qardaşının ləqəbi?", o: ["Quicksilver", "Speedster", "Flash", "Runner"], a: 0 },
        { q: "Black Widow-un bacısı Yelena hansı heyvandan qorxurdu?", o: ["Hörümçək", "İt", "Ayı", "Sürünənlər"], a: 0 },
        { q: "Ant-Man kosmosun hansı hissəsinə daxil ola bilir?", o: ["Quantum Realm", "Dark Dimension", "Mirror Dimension", "Void"], a: 0 },
        { q: "Doctor Strange-in paltarındakı canlı əşya?", o: ["Papaq", "Plaş", "Üzük", "Kəmər"], a: 1 },
        { q: "Groot-un Endgame-dəki yaş dövrü hansı idi?", o: ["Bebə", "Yeniyetmə", "Yaşlı", "Ölü"], a: 1 },
        { q: "Wakanda-da olan ən qiymətli metal?", o: ["Adamantium", "Vibranium", "Kriptonit", "Uru"], a: 1 },
        { q: "Nick Fury-nin gözünə nə olub?", o: ["Qəza", "Goose (Flerken) cızıb", "Loki vurub", "Anadangəlmə"], a: 1 },
        { q: "Thor-un bacısı Helanın güc mənbəyi?", o: ["Çəkic", "Asgard", "Məzarlıq", "Odin"], a: 1 },
        { q: "Avengers komandası ilk dəfə kimə qarşı birləşdi?", o: ["Thanos", "Loki", "Ultron", "Hela"], a: 1 },
        { q: "Captain America neçə il buzun altında qaldı?", o: ["50", "66", "70", "100"], a: 2 },
        { q: "Stan Lee-nin son rolu hansı filmdədir?", o: ["Endgame", "Captain Marvel", "Spider-Man", "Infinity War"], a: 0 },
        { q: "Loki serialındakı zaman saatının adı?", o: ["Miss Minutes", "Clocky", "Time Lady", "Watchy"], a: 0 },
        { q: "Hawkeye-ın ən sevdiyi silah?", o: ["Tapança", "Ox-yay", "Qılınc", "Bıçaq"], a: 1 },
        { q: "Iron Man-in dahi qızının adı?", o: ["Pepper", "Morgan", "Cassie", "Maria"], a: 1 },
        { q: "Sam Wilson-un yeni adı?", o: ["Falcon", "Captain America", "War Machine", "Patriot"], a: 1 },
        { q: "Shang-Chi-nin neçə üzüyü var?", o: ["5", "10", "12", "8"], a: 1 },
        { q: "Moon Knight-ın misir tanrısı?", o: ["Ra", "Khonshu", "Anubis", "Set"], a: 1 },
        { q: "Spider-Man-in əsl kimliyini bütün dünyaya kim açıqladı?", o: ["Mysterio", "J. Jonah Jameson", "Loki", "Iron Man"], a: 0 },
        { q: "Vision-un alnındakı daş hansı idi?", o: ["Zəka (Mind)", "Zaman", "Ruh", "Güc"], a: 0 },
        { q: "Thanos-un sadiq qızı, amma ona xəyanət edən?", o: ["Nebula", "Gamora", "Hela", "Sylvie"], a: 1 },
        { q: "Loki-nin ən sevdiyi rəng?", o: ["Qırmızı", "Yaşıl", "Mavi", "Sarı"], a: 1 },
        { q: "Eternals-ın ən sürətli üzvü?", o: ["Ikaris", "Makkari", "Thena", "Sersi"], a: 1 },
        { q: "Captain Marvel güclərini hansı daşdan alıb?", o: ["Zaman", "Kosmos (Tesseract)", "Ruh", "Zəka"], a: 1 },
        { q: "Tony Stark-ın evinin adı (Malibudakı)?", o: ["Tower", "Stark Mansion", "Point Dume", "The Lab"], a: 2 },
        { q: "Sonda: Marvel kainatını yaradan şəxs?", o: ["Stan Lee", "Kevin Feige", "Steve Ditko", "Hamısı"], a: 3 }
    ];

    let currentIdx = 0;
    let score = 0;

    function renderQuestion() {
        if(currentIdx >= questions.length) { showFinal(); return; }
        
        const q = questions[currentIdx];
        document.getElementById('question').innerText = `${currentIdx + 1}. ${q.q}`;
        document.getElementById('q-counter').innerText = `TIMELINE: ${currentIdx + 1} / 30`;
        document.getElementById('progress').style.width = `${(currentIdx/30)*100}%`;

        const optsArea = document.getElementById('options');
        optsArea.innerHTML = "";
        q.o.forEach((opt, i) => {
            const div = document.createElement('div');
            div.className = "option-item";
            div.innerText = opt;
            div.onclick = () => { if(i === q.a) score++; currentIdx++; renderQuestion(); };
            optsArea.appendChild(div);
        });
    }

    function showFinal() {
        document.getElementById('quiz-container').style.display = 'none';
        document.getElementById('result-section').style.display = 'block';
        document.getElementById('hidden-date').innerText = birthDate.split('-').reverse().join('.');
        
        const sc = Math.round((score/30)*100);
        document.getElementById('final-score').innerText = `${sc}% SYNCED`;
        
        const char = document.getElementById('final-char');
        const reason = document.getElementById('final-reason');

        if(sc === 100) {
            char.innerText = "HE WHO REMAINS";
            reason.innerText = "Ayan, sən zamanın sonundasan! Heç bir səhv etmədən bütün Marvel kainatını süzgəcdən keçirdin. Sən artıq bir variant deyilsən, sən əsl xronologiyanın hökmdarısan.";
        } else if(sc >= 80) {
            char.innerText = "GOD LOKI";
            reason.innerText = "Möhtəşəm nəticə, Ayan! Sən hekayələrin tanrısısan. TVA-nın bütün sirlərini bilirsən və multikainatı idarə etmək üçün hazırsan.";
        } else if(sc >= 60) {
            char.innerText = "SYLVIE";
            reason.innerText = "Sən azadsan və döyüşçüsən, Ayan. Bəzi detalları qaçırsan da, sistemə qarşı duracaq qədər biliyin var. Sən təhlükəli bir variantsan!";
        } else if(sc >= 40) {
            char.innerText = "MOBIUS";
            reason.innerText = "Yaxşı cəhddir! Amma hələ çoxlu kasetlər izləməlisən. Jet-ski sürmək istəyirsənsə, Marvel tarixinə bir az da baxmalısan.";
        } else {
            char.innerText = "PRUNED VARIANT";
            reason.innerText = "Təəssüf ki, sən budandın! Biliyin bu zaman xətti üçün yetərli deyil. Boşluqda (Void) Alioth-dan qaçarkən filmləri yenidən izlə!";
        }
    }
</script>
</body>
</html>
