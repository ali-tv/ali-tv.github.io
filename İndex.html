<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TVA | Agent Ayan Terminal</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=Bebas+Neue&display=swap');

        :root {
            --tva-orange: #ff8400;
            --tva-dark-orange: #cc6a00;
            --tva-loki-green: #00ff88;
            --tva-alert-red: #ff3333;
            --tva-bg: #0d0d0d;
            --tva-grid: rgba(255, 132, 0, 0.1);
            --tva-text: #ffb366;
            --tempad-border: #2a2a2a;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--tva-bg);
            color: var(--tva-text);
            font-family: 'Courier Prime', monospace;
            margin: 0;
            padding: 0;
            background-image: 
                linear-gradient(var(--tva-grid) 1px, transparent 1px),
                linear-gradient(90deg, var(--tva-grid) 1px, transparent 1px);
            background-size: 25px 25px;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- ZORLA YATAY REJİM --- */
        @media screen and (orientation: portrait) {
            #main-wrapper {
                transform: translate(-50%, -50%) rotate(90deg);
                position: fixed;
                top: 50%;
                left: 50%;
                width: 100vh;
                height: 100vw;
                display: flex;
                justify-content: center;
                align-items: center;
            }
        }

        @media screen and (orientation: landscape) {
            #main-wrapper {
                width: 100%;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
            }
        }

        /* Scanline Effect */
        body::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.2) 50%);
            z-index: 1000;
            background-size: 100% 3px;
            pointer-events: none;
            opacity: 0.3;
        }

        /* --- TEMPAD LOGIN SCREEN --- */
        #login-screen {
            text-align: center;
            padding: 25px;
            border: 8px solid var(--tempad-border);
            border-right: 12px solid #1a1a1a;
            background: #121212;
            box-shadow: 
                inset 0 0 15px rgba(0,0,0,0.8),
                0 0 40px rgba(0,0,0,1),
                0 0 10px var(--tva-orange);
            width: 85%;
            max-width: 480px;
            aspect-ratio: 16 / 10;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 12px;
            position: relative;
            transition: 0.3s;
        }

        .tva-logo {
            font-family: 'Bebas Neue', cursive;
            font-size: 3rem;
            color: var(--tva-orange);
            margin: 5px 0;
            line-height: 1;
            letter-spacing: 8px;
        }

        .custom-avatar {
            height: 45%;
            width: auto;
            border-radius: 4px;
            margin-bottom: 10px;
            border: 1px solid rgba(0, 255, 136, 0.3);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.2);
            object-fit: contain;
        }

        .input-group {
            width: 100%;
            max-width: 250px;
        }

        input[type="date"] {
            background: #000;
            border: 1px solid var(--tva-orange);
            color: var(--tva-orange);
            padding: 8px;
            font-family: 'Courier Prime', monospace;
            font-size: 0.9rem;
            margin-bottom: 10px;
            width: 100%;
            text-align: center;
            outline: none;
        }

        .btn-tva {
            background: var(--tva-orange);
            color: #000;
            border: none;
            padding: 10px;
            font-weight: bold;
            font-family: 'Courier Prime', monospace;
            text-transform: uppercase;
            cursor: pointer;
            width: 100%;
            font-size: 0.9rem;
            transition: 0.2s;
            box-shadow: 0 4px 0 var(--tva-dark-orange);
        }

        .btn-tva:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 var(--tva-dark-orange);
        }

        /* --- ALERT SCREEN --- */
        #alert-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 0, 0, 0.9);
            color: white;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 500;
            border-radius: 4px;
            animation: blink-red 0.5s infinite alternate;
        }

        @keyframes blink-red {
            from { background: rgba(150, 0, 0, 0.9); }
            to { background: rgba(255, 0, 0, 1); }
        }

        /* --- TERMINAL CONTAINER --- */
        .container {
            width: 95%;
            height: 90%;
            border: 4px solid var(--tempad-border);
            background: #0a0a0a;
            padding: 20px;
            display: none;
            flex-direction: column;
            border-radius: 10px;
        }

        .terminal-header {
            border-bottom: 1px solid var(--tva-orange);
            padding-bottom: 8px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--tva-orange);
        }

        .question-box {
            font-size: 1.2rem;
            margin-bottom: 20px;
            min-height: 60px;
        }

        .options-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            flex-grow: 1;
        }

        .option-item {
            border: 1px solid #333;
            padding: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #111;
            font-size: 0.9rem;
            transition: 0.1s;
        }

        .option-item:active {
            background: var(--tva-orange);
            color: black;
            border-color: var(--tva-orange);
        }

        .progress-bar {
            margin-top: 20px;
            height: 4px;
            background: #222;
            width: 100%;
        }

        .progress-fill {
            height: 100%;
            background: var(--tva-orange);
            width: 0%;
            transition: 0.3s;
        }

        .result-title {
            font-family: 'Bebas Neue', cursive;
            font-size: 4rem;
            color: #fff;
            margin: 10px 0;
        }
        
    </style>
</head>
<body>

    <div id="main-wrapper">

        <!-- GİRİŞ SƏHİFƏSİ -->
        <div id="login-screen">
            <!-- Alert Overlay -->
            <div id="alert-overlay">
                <h2 style="font-family:'Bebas Neue'; font-size: 3.5rem; margin:0;">VARIANT DETECTED</h2>
                <h1 style="font-family:'Bebas Neue'; font-size: 5rem; margin:0; letter-spacing:10px;">AYAN</h1>
                <p style="font-weight:bold;">SQUELCHING TIMELINE...</p>
            </div>

            <img src="https://raw.githubusercontent.com/ali-tv/ali-tv.github.io/main/IMG_20260131_135801_925.jpg" class="custom-avatar" alt="Loki Variant">
            <h1 class="tva-logo">TVA</h1>
            
            <div class="input-group">
                <p style="font-size: 0.6rem; margin: 5px 0; color: #888;">VERIFICATION REQUIRED</p>
                <input type="date" id="birthdate">
                <button class="btn-tva" onclick="accessTerminal()">CONNECT</button>
            </div>
            
            <p id="access-msg" style="margin-top: 10px; font-size: 0.6rem; visibility: hidden; color: var(--tva-loki-green);">INITIALIZING SCAN...</p>
        </div>

        <!-- QUIZ CONTAINER -->
        <div class="container" id="quiz-container">
            <div class="terminal-header">
                <span>SYS: AYAN_777</span>
                <span id="q-counter">STEP: 1/30</span>
            </div>
            
            <div class="question-box" id="question">Yüklənir...</div>
            
            <div class="options-list" id="options"></div>

            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
        </div>

        <!-- FINAL RESULT -->
        <div class="container" id="result-section" style="text-align:center;">
            <p style="color: var(--tva-orange); font-size: 0.8rem;">SYNC COMPLETE</p>
            <div id="final-char" class="result-title">LOKI</div>
            <div style="font-size: 1.5rem; margin-bottom: 10px;" id="final-score">100%</div>
            
            <div style="font-size: 0.7rem; color: #888; margin-bottom: 10px;" id="ver-num">v00.REV.0000-AY</div>

            <div style="border: 1px solid #333; padding: 15px; text-align: left; background: #000; font-size: 0.85rem; flex-grow: 1; overflow-y: auto;">
                <p id="final-reason" style="line-height: 1.5;"></p>
            </div>
            
            <button class="btn-tva" style="margin-top:15px; width: auto; padding: 10px 40px;" onclick="location.reload()">REBOOT</button>
        </div>

    </div>

<script>
    let birthDate = "";

    function openFullscreen() {
        const elem = document.documentElement;
        if (elem.requestFullscreen) elem.requestFullscreen().catch(() => {});
        else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
    }

    function generateVersion(dateStr) {
        // "2000-05-15" -> y: 2000, m: 05, d: 15
        if(!dateStr) return "v1.0.0-PROTOTYPE";
        const parts = dateStr.split('-');
        const y = parts[0];
        const m = parts[1];
        const d = parts[2];
        // Format: v2000.REV.1505-AY
        return `v${y}.REV.${d}${m}-AY`;
    }

    function accessTerminal() {
        const dateInput = document.getElementById('birthdate').value;
        if(!dateInput) return;
        
        openFullscreen();
        birthDate = dateInput;
        
        const alertOverlay = document.getElementById('alert-overlay');
        alertOverlay.style.display = 'flex';
        
        setTimeout(() => {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'flex';
            renderQuestion();
        }, 2500);
    }

    const questions = [
    { q: "Iron Man filmində Tony Stark-ı hansı terror qrupu qaçırır?", o: ["Hydra", "Ten Rings", "A.I.M.", "Hand"], a: 1 },
    { q: "Captain America-nın ilk filmi hansı müharibə dövründə keçir?", o: ["I Dünya Müharibəsi", "II Dünya Müharibəsi", "Vyetnam Müharibəsi", "Soyuq Müharibə"], a: 1 },
    { q: "Thor-un çəkici Mjölnir-i yalnız kim qaldıra bilər?", o: ["Layiq olan", "Asgardlı", "Tanrı", "Güclü olan"], a: 0 },
    { q: "Hulk-un əsl adı nədir?", o: ["Bruce Banner", "Robert Bruce Banner", "David Banner", "Brian Banner"], a: 1 },
    { q: "Black Widow-un əsl adı nədir?", o: ["Natalia Romanova", "Natasha Romanoff", "Yelena Belova", "Melina Vostokoff"], a: 1 },
    { q: "Hawkeye-ın əsl adı nədir?", o: ["Clint Barton", "Ronin", "Kate Bishop", "Barney Barton"], a: 0 },
    { q: "Guardians of the Galaxy-də Star-Lord-un anasının sevdiyi mahnı hansıdır?", o: ["Hooked on a Feeling", "Come and Get Your Love", "Cherry Bomb", "Fooled Around and Fell in Love"], a: 0 },
    { q: "Spider-Man: Homecoming-də Vulture-ün əsl adı nədir?", o: ["Adrian Toomes", "Michael Keaton", "Mac Gargan", "Herman Schultz"], a: 0 },
    { q: "Black Panther-in bacısı kimdir?", o: ["Shuri", "Nakia", "Okoye", "Ramonda"], a: 0 },
    { q: "Doctor Strange-in mentoru kimdir?", o: ["Ancient One", "Wong", "Mordo", "Agatha"], a: 0 },
    { q: "Captain Marvel-in gücü hardan gəlir?", o: ["Tesseract (Space Stone)", "Heart-Shaped Herb", "Super Soldier Serum", "Gamma Radiation"], a: 0 },
    { q: "Ant-Man-in qızı kimdir?", o: ["Cassie Lang", "Hope van Dyne", "Janet van Dyne", "Maggie Lang"], a: 0 },
    { q: "WandaVision-da Agatha Harkness-in əsl məqsədi nədir?", o: ["Wanda-nın gücünü oğurlamaq", "Vision-ı diriltmək", "Westview-i idarə etmək", "Monica-nı ovsunlamaq"], a: 0 },
    { q: "Falcon and Winter Soldier-da yeni Captain America kim olur?", o: ["John Walker", "Sam Wilson", "Bucky Barnes", "Isaiah Bradley"], a: 0 },
    { q: "Shang-Chi-də Ten Rings təşkilatının lideri əslində kimdir?", o: ["Wenwu (Mandarin)", "Xu Xialing", "Death Dealer", "Razor Fist"], a: 0 },
    { q: "Eternals-da Deviant-ları kim yaradır?", o: ["Celestials", "Arishem", "Ikaris", "Kro"], a: 0 },
    { q: "Spider-Man: No Way Home-da üç Spider-Man-dən biri Tobey Maguire-dir, digərləri?", o: ["Andrew Garfield və Tom Holland", "Andrew Garfield və Miles Morales", "Tobey Maguire və Miles Morales", "Zendaya və Kirsten Dunst"], a: 0 },
    { q: "Moon Knight-ın xidmət etdiyi Misir tanrısı kimdir?", o: ["Khonshu", "Ammit", "Taweret", "Anubis"], a: 0 },
    { q: "Thor: Love and Thunder-da Gorr-un silahı nədir?", o: ["Necrosword", "Stormbreaker", "Mjolnir", "Jane-in çəkici"], a: 0 },
    { q: "Wakanda Forever-da yeni Black Panther kim olur?", o: ["Shuri", "Nakia", "M'Baku", "Okoye"], a: 0 },
    { q: "She-Hulk serialında Jennifer Walters-in əmisi oğlu kimdir?", o: ["Bruce Banner", "Matt Murdock", "Emil Blonsky", "Wong"], a: 0 },
    { q: "Guardians Vol.3-də High Evolutionary hansı personajı yaradır?", o: ["Rocket Raccoon", "Adam Warlock", "Groot", "Gamora"], a: 0 },
    { q: "Ant-Man and the Wasp: Quantumania-da əsas villain kimdir?", o: ["Kang the Conqueror", "M.O.D.O.K.", "Darren Cross", "Ghost"], a: 0 },
    { q: "Infinity War-da Thanos neçə Infinity Stone ilə snap edir?", o: ["Hamısı 6", "5", "4", "Tam gauntlet"], a: 0 },
    { q: "Endgame-də zaman səyahəti üçün hansı aləmdən keçirlər?", o: ["Quantum Realm", "Mirror Dimension", "Dark Dimension", "Soul World"], a: 0 },
    { q: "Avengers: Age of Ultron-da Vision-u kim yaradır?", o: ["Tony, Bruce və JARVIS", "Ultron", "Thanos", "Helen Cho"], a: 0 },
    { q: "Civil War-da hansı hava limanında böyük döyüş olur?", o: ["Leipzig/Halle (Almaniya)", "New York", "Wakanda", "Sokovia"], a: 0 },
    { q: "Deadpool & Wolverine filmində (2024) Deadpool hansı kainata düşür?", o: ["MCU (Earth-616)", "Fox X-Men", "Void", "TVA"], a: 0 },
    { q: "Stan Lee-nin MCU-da ən son cameo-su hansı filmdədir?", o: ["Endgame", "Captain Marvel", "No Way Home", "Multiverse of Madness"], a: 0 },
    { q: "MCU-nun ilk filmi hansıdır?", o: ["Iron Man (2008)", "The Incredible Hulk", "Captain America", "Thor"], a: 0 }
];

    let currentIdx = 0;
    let score = 0;

    function renderQuestion() {
        if(currentIdx >= questions.length) { showFinal(); return; }
        const q = questions[currentIdx];
        document.getElementById('question').innerText = q.q;
        document.getElementById('q-counter').innerText = `STEP: ${currentIdx + 1}/30`;
        document.getElementById('progress').style.width = `${(currentIdx/30)*100}%`;

        const optsArea = document.getElementById('options');
        optsArea.innerHTML = "";
        q.o.forEach((opt, i) => {
            const div = document.createElement('div');
            div.className = "option-item";
            div.innerText = opt;
            div.onclick = () => { if(i === q.a) score++; currentIdx++; renderQuestion(); };
            optsArea.appendChild(div);
        });
    }

    function showFinal() {
        document.getElementById('quiz-container').style.display = 'none';
        document.getElementById('result-section').style.display = 'flex';
        
        // Versiya nömrəsini gizli formada yazdır
        document.getElementById('ver-num').innerText = generateVersion(birthDate);

        const sc = Math.round((score/30)*100);
        document.getElementById('final-score').innerText = `${sc}% SYNC`;
        const char = document.getElementById('final-char');
        const reason = document.getElementById('final-reason');

        if(sc === 100) {
            char.innerText = "HE WHO REMAINS";
            reason.innerText = "Sən xronologiyanın sonundasan! Heç bir xəta etmədin. Sən artıq bir variant deyilsən, sən Zamanın Hökmdarısan.";
        } else if(sc >= 80) {
            char.innerText = "GOD LOKI";
            reason.innerText = "Möhtəşəm! Hekayələrin tanrısı olaraq multikainatın ipləri sənin əlindədir.";
        } else if(sc >= 60) {
            char.innerText = "SYLVIE";
            reason.innerText = "Döyüşçü və azad bir ruh. Bəzi xətaların olsa da, sistemə baş qaldıra bilərsən.";
        } else if(sc >= 40) {
            char.innerText = "MOBIUS";
            reason.innerText = "TVA-nın sadiq agenti. Detalları bilirsən amma hələ çox kaset izləməlisən.";
        } else {
            char.innerText = "PRUNED";
            reason.innerText = "Sən budandın! Boşluqda (Void) sağ qalmağa çalış və Marvel filmlərini təkrar izlə.";
        }
    }
</script>
</body>
</html>

